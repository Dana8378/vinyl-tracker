{% extends 'vinyl/base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    {% if records %}
    <div>
        <p>–í—Å–µ–≥–æ –ø–ª–∞—Å—Ç–∏–Ω–æ–∫ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ {{ total_count }}</p>
    </div>
    {% endif %}

    <div style="margin-bottom: 20px;">
        <a href="{% url 'vinyl:add_record'%}" class="btn btn-primary">
            –î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Å—Ç–∏–Ω–∫—É
        </a>
    </div>

    {% if records %}
    <table>
        <thead>
            <tr>
                <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                <th>–ê–ª—å–±–æ–º</th>
                <th>–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</th>
                <th>–ñ–∞–Ω—Ä</th>
                <th>–§–æ—Ä–º–∞—Ç</th>
                <th>–°–æ—Å—Ç–æ—è–Ω–∏–µ</th>
                <th>–û—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
        {% for record in records %}
            <tr>
                <td>{{ record.artist }}</td>
                <td>{{ record.title }}</td>
                <td>{{ record.year }}</td>
                <td>{{ record.genre.name|default:'-' }}</td>
                <td>{{ record.get_format_display }}</td>
                <td>{{ record.condition.get_grade_display }} ({{ record.condition.description }})</td>
                <td>{{ record.estimated_value }} —Ä—É–±.</td>
                <td class="actions">
                    <a href="{% url 'vinyl:edit_record' record.id %}"
                        class="btn-small btn-edit"
                        title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                        ‚úèÔ∏è
                    </a>
                    <a href="{% url 'vinyl:delete_record' record.id %}"
                        class="btn-small btn-delete"
                        title="–£–¥–∞–ª–∏—Ç—å">
                        üóëÔ∏è
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p>–í –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç –ø–ª–∞—Å—Ç–∏–Ω–æ–∫</p>
    {% endif %}
{% endblock %}